.card.message-card.mb-3{id: dom_id(message), class: sentiment_class(message.ai_sentiment_score)}
  .card-body
    .d-flex.justify-content-between.align-items-start.mb-2
      %div
        %h5.card-title= message.user.username
        %small.text-muted= message.created_at.strftime("%B %d, %Y at %I:%M %p")
      = render partial: "messages/sentiment_badge", locals: { score: message.ai_sentiment_score }

    %p.card-text= message.content

    .d-flex.justify-content-between.align-items-center.mt-3
      .btn-group{role: "group", data: { controller: "reactions", reactions_message_id_value: message.id }}
        %button.btn.btn-sm.btn-outline-secondary.reaction-btn{type: "button", data: { action: "click->reactions#react", reaction_type: "like" }}
          ðŸ‘
          %span.badge.bg-secondary{id: "#{dom_id(message)}_like_count"}= message.reactions.where(reaction_type: "like").count
        %button.btn.btn-sm.btn-outline-secondary.reaction-btn{type: "button", data: { action: "click->reactions#react", reaction_type: "love" }}
          â¤ï¸
          %span.badge.bg-secondary{id: "#{dom_id(message)}_love_count"}= message.reactions.where(reaction_type: "love").count
        %button.btn.btn-sm.btn-outline-secondary.reaction-btn{type: "button", data: { action: "click->reactions#react", reaction_type: "insightful" }}
          ðŸ’¡
          %span.badge.bg-secondary{id: "#{dom_id(message)}_insightful_count"}= message.reactions.where(reaction_type: "insightful").count
